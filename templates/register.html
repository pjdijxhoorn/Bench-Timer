{% extends "base.html" %}
{% block content %}
<h2 class="text-center">Registration Page</h2>
<br>
<div class="row">
    <div class="card col-10 offset-1">
        <div class="card-body">
            <form action="">
                <!--Email-->
                <div>
                    <label for="email" class="form-label">Email address:</label>
                    <input type="email" name="email" class="form-control" id="email" aria-describedby="email">
                </div>

                <!--Username-->
                <div>
                    <label for="username" class="form-label">
                        Username:
                    </label>
                    <input type="text" name="username" class="form-control validate" id="username" aria-describedby="username" minlength="5" maxlength="15" pattern="^[a-zA-Z0-9]{5,15}$" required>
                    <div class="item char_5" id="char_5">
                        <ion-icon name="checkmark-circle"></ion-icon>Must Contain between 5 and 15 characters
                    </div>
                </div>
                <br>
                <!--Password-->
                <div>
                    <label for="password" class="form-label">Password:</label>
                    <input type="password" name="password" class="form-control validate" id="password" minlength="6" maxlength="15" pattern="^[a-zA-Z0-9]{5,15}$" required>
                    <div class="item char_6" id="char_6">
                        <ion-icon name="checkmark-circle"></ion-icon>Must Contain between 6 and 15 characters
                    </div>
                    <div class="item number" id="number">
                        <ion-icon name="checkmark-circle"></ion-icon>Must Contain 1 number
                    </div>
                    <div class="item letter" id="letter">
                        <ion-icon name="checkmark-circle"></ion-icon>Must Contain 1 letter
                    </div>
                </div>
                <br>
                <!--Password confirm-->
                <div>
                    <label for="passwordconfirm" class="form-label">Confirm password:</label>
                    <input type="password" name="passwordconfirm" class="form-control" id="passwordconfirm">
                    <div class="item match" id="match">
                        <ion-icon name="checkmark-circle"></ion-icon>Password must match
                    </div>
                </div>
                <button type="submit" class="btn submit-btn">Submit</button>
        </div>



        </form>
    </div>
</div>
</div>
<script>
    let username = document.getElementById("username")
    let password = document.getElementById("password")
    let confirm = document.getElementById("passwordconfirm")

    let char_5 = document.getElementById('char_5')
    let number = document.getElementById('number')
    let letter = document.getElementById('letter')
    let char_6 = document.getElementById('char_6')
    let match = document.getElementById('match')

    username.addEventListener('input', () => {
        let user = username.value;
        if (user.length >= 5) {
            char_5.classList.add("item__active");
        } else {
            char_5.classList.remove("item__active");
        }
    })

    password.addEventListener('input', () => {
        let pass = password.value;
        let conf = confirm.value;
        if (pass.length >= 6) {
            char_6.classList.add("item__active");
        } else {
            char_6.classList.remove("item__active");
        }

        if (/[0-9]/.test(pass)) {
            number.classList.add('item__active')
        } else {
            number.classList.remove('item__active');
        }

        if (/[A-Za-z]/.test(pass)) {
            letter.classList.add('item__active')
        } else {
            letter.classList.remove('item__active');
        }
        if (conf == pass) {
            match.classList.add("item__active");
        } else {
            match.classList.remove("item__active");
        }
    })

    confirm.addEventListener('input', () => {
        let conf = confirm.value;
        let pass = password.value;
        console.log(conf)
        console.log(pass)
        if (conf == pass) {
            match.classList.add("item__active");
        } else {
            match.classList.remove("item__active");
        }
    })
</script>


{% endblock %}